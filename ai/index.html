<!DOCTYPE html>
<html>
<head>
  <title>AI Model</title>
  <style>
    /* Style for chat-like interface */
    #chatContainer {
      display: flex;
      flex-direction: column;
    }
    #chatContainer textarea {
      width: 100%;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <h1 id="modelTitle">Google Gemini Model</h1>
  <form id="form">
    <input type="text" id="system" name="system" placeholder="You're helpful AI coder which specialize in JavaScript">

    <select id="model" name="model">
      <option value="GEMINI" selected>GEMINI</option>
      <option value="CHATGPT">CHATGPT</option>
    </select>

    <div id="chatContainer">
      <textarea id="response" name="response" rows="5" placeholder="Response"></textarea>
      <textarea id="prompt" name="prompt" rows="5" placeholder="Enter your prompt here"></textarea>
    </div>
  
    <input type="submit" value="Submit">
  </form>

  <script>
    var version = " 0.0.1";
    // Adding version to the end of h1
    document.getElementById("modelTitle").innerText += version;
    // Function to generate response
    function generateResponse(prompt, model) {
      if (model === "GEMINI") {
        GEMINI(prompt);
      } else if (model === "CHATGPT") {
        document.getElementById('modelTitle').innerText = "OpenAI ChatGPT Model";
        // Add code to use OpenAI ChatGPT model
      }
    }

    // Submit form when Ctrl+Enter is pressed in prompt textarea
    document.getElementById("prompt").addEventListener("keydown", function(event) {
      if (event.ctrlKey && event.key === "Enter") {
        event.preventDefault();
        var prompt = document.getElementById('prompt').value;
        var model = document.getElementById('model').value;
        generateResponse(prompt, model);
      }
    });

    // Submit form on submit button click
    document.getElementById("form").addEventListener("submit", function(event) {
      event.preventDefault();
      var prompt = document.getElementById('prompt').value;
      var model = document.getElementById('model').value;
      generateResponse(prompt, model);
    });

    function GEMINI(prompt) {
      var apiKey = "AIzaSyCf4gfFzHbnFqivbgZTNpK7pmnRIgjSxjk";
      var apiUrl = "https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent";

      var headers = {
        "Content-Type": "application/json"
      };

      var requestBody = {
        "contents": [{
          "parts": [{
            "text": prompt
          }]}
        ]
      };

      var options = {
        "method": "POST",
        "headers": headers,
        "body": JSON.stringify(requestBody)
      };

      fetch(apiUrl + "?key=" + apiKey, options)
        .then(response => response.json())
        .then(data => {
          var output = data.candidates[0].content.parts[0].text;
          document.getElementById('response').value = output;
        })
        .catch(error => {
          console.error('Error:', error);
          document.getElementById('response').value = 'Error: ' + error.message;
        });
    }
  </script>
</body>
</html>
